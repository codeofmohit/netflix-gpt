# Netflix-GPT

Cloning Front-end of Netflix using React/Redux along with Firebase, Also utilising Open AI GPT for empowering various features.

[ğŸš€ NetflixGPT Project Live Link ğŸš€](https://fateflix-codeofmohit.web.app/)

# Design Documentation (rough flow - Dev Only)

- boilerPlate setup using create-react-app âœ…
- cleanedUp the boilerPlate code to kickStart the project âœ…
- added tailwindCSS config âœ…
- creating components & utils folder âœ…

- Login Component âœ…

  - App > Body (body is Home page) âœ…
  - Body > Login + Browse âœ…
  - Create routing in Body (Revise routing first) - âœ…
    - for / login
    - for /browse browse
  - added a errorPage also for unhandled routes âœ…
  - Login > Header(comman) âœ…
  - Developing Header âœ…
  - Login > Form(login/ignup) âœ…
  - Form validation âœ…
  - useRef Hook instead of local state for holding form states âœ…
  - creating utility validate.js for validating form, validating for name, email, password âœ…
  - showing error messages in UI as per validation âœ…

- Adding Firebase as Backend & deploying it on Prod âœ…

  - create firebase project in firebase console, enable hosting also âœ…
  - set up as instructed, copy project config âœ…
  - you must enable authentication, enable it âœ…
  - host the project via firebase hosting âœ…
    - name your deployment folder as : build
    - rewrite all urls to index.html : no
    - set auto builds : no

- Creating Sign UP user account in Firebase âœ…

  - in firebase docs find registering users âœ…
  - password based account > web modular api âœ…
  - getting get auth from a central place âœ…
  - write sign in and sign up logic following firebase docs âœ…
  - check if firebase is registering users âœ…
  - play with details returned after sign in/up âœ…

- Setting up redux tool kit + Sign in/up/out functionlity via Firebase Auth âœ…

  - revise redux tool kit first âœ…
  - once the user in sign in / up, firebase returns a user object with access token âœ…
  - we will store that user into the redux store, to keep track of session âœ…
    - 2 actions, in user slice, adduser, and removeuser âœ…
  - then we will navigate the user to browse page
  - when user sign up/sign in : adduser, when sign out : removeuser âœ…
  - after sign in/up : navigate user to browser page âœ…
  - after sign out : navigate user to login page / âœ…
  - useNavigate() hook of react router dom âœ…
  - once the user logged in then only, browse page will be shown, otherwise make browse page protected âœ…
  - once user logs in / or sign up then only show & actigvate sign out button/functionlity in header âœ…
  - update profile via update api, once sign in/up with userName âœ…
  - display the user name + photo URL(s) [dummy as of now], in header once logged in âœ…
  - Fixed the bug > made login and browse protected via adding onAuthChange api from firebase, and navigation is handled by it only âœ…
  - Fixed another bug, added 2 users, 1 from redux store, 1 from firebase auth, to fix name collapsing issue âœ…
  - adding loader while signing up and siginig in for better and smooth UX âœ…
  - unsubscribed the onAuthChange subscription âœ…
  - constant file added for dummy strings and constant data âœ…

- Creating Browse Page âœ…

  - registered and logged in on TMDB to use their API's [got access token and api key] âœ…
  - Copy NOW_PLAYING_MOVIES_API_OPTIONS into your constant file âœ…
  - in Browse page make the API call to get Now playing movies âœ…
  - creating a moviesSlice, and storing all our data into the moviesSlice âœ…
    - movieSlice will have initialState as: âœ…
      - nowPlayingMovies âœ…
      - trailerVideo âœ…
  - initailly do all these stuff -> fetch data from tmdb and then store it into redux in browser page âœ…
  - then create a custom hook to do so to keep browse component clean âœ…
  - create useNowPLayingMovies hook, in hooks folder âœ…
  - create browse page UI âœ…
  - plannning how to create the UI âœ…
  - Browse page UI (2 parts) âœ…
    - Maincontainer âœ…
      - Video BG of Movie âœ…
      - Video title & info âœ…
    - SecondaryContainer âœ…
      - MoviesCategories\*n âœ…
        - MovieCards\*n âœ…
  - as planned make 2 components, MainContainer + SecondaryContainer âœ…
  - MainContainer âœ…
    - fetch movies using useSelector from store âœ…
    - create 2 components âœ…
      - VideoTitle âœ…
      - VideoBackground âœ…
  - early retrurn is movies are not loaded âœ…
  - else first movie will be main movie for which title and video will be shown âœ…
  - destructure relevant info from object and passed it to videoTitle component as props âœ…
  - Now for videoBackground, nowplaying movies api won't have the trailer âœ…
  - We will use another API from tmdb, video api, which will take movie id and give video for that âœ…
    - pass movie id as a prop to video BG comp âœ…
  - in VideoBG comp make api call with movie id to get movie videos âœ…
  - out of all the clips returned, use type="trailer" as bg âœ…
  - in trailer is not there use any first video as bg (write logic) âœ…
  - trailer object contains youtube id, from youtube take the embedded code , handle the id dynamically
  - for storing trailer id, make use of redux not local state, put entire object into redux, and use from there only âœ…
  - make useMovieTrailer, to fetch trailer and store it in redux, make a custom hook for it, to make component cleaner âœ…
  - css to make video bg and title look like how fateflix does âœ…
  - building secondary container âœ…
  - planning building secondary conatiner âœ…
    - MovieList - Popular âœ…
      - moviescards\*n âœ…
    - MovieList - nowPLaying âœ…
    - MovieList - Horror âœ…
  - Make 2 components, MovieList & MovieCard âœ…
  - pass movie list title from secondary container to movielist âœ…
  - looppver movieCards into movieLIst âœ…
  - use css to make it look like fateflix âœ…
  - create differetnt hooks for getting different categories, i.e popular, trending, etc âœ…
  - call those hooks also to browse page only > done via single hook only âœ…
  - accordingly different lists would be there âœ…

- Creating GptSearchPage component Feature âœ…

  - in header > gpt search btn (only for signned in users) âœ…
  - on click of the btn > GptSearchPage component âœ…
  - GptSearchPage component > in browse component > accessble only on header btn click (build toggle functionilty) âœ…
  - to make the toggle functionlity work, store the reducer to toggle into redux store, create gptSlice in slices folder âœ…
  - create action toggleGptSearchView âœ…
  - GPT Search component planning
    - bg image same as of /login screen âœ…
    - GptSearchBar âœ…
      - form > search bar + btn âœ…
        - note : onSubmit > preventDefault behaviour âœ…
    - GptMoviesSuggestions âœ…
  - put bg image in constants if already not coming âœ…
  - translation into other languages using a constant file
    - create a constant file lang, store object of 2 languages hindi, english in the contant file, each word on your app/site must be in these languages hardcoaded here âœ…
    - then on header give an option to toggle from select options âœ…
    - on select handler change the language as should be coming dynamically from contant file âœ…
    - even options in the select option also should come from constant file âœ…
    - do it only in the GptSearchComponent âœ…
    - when clicking on GptSearchComponent should toggle name from GptSearch to homepage âœ…
    - in homepage option for language change should not come âœ…
    - before moving ahead clean up all the componentnts âœ…
    - bug fixes regarding multilang feature âœ…

- Starting GptSearch Feature âœ…

  - register on open ai âœ…
  - from platform.openai âœ…
  - get your api key âœ…
  - keep your key secret [paid api] âœ…
  - install open ai npm library, go through its docs, readme on github âœ…
  - make seprate util file to initialse open ai, export it âœ…
  - on click of search btn > submitHandler
    - preventDefault behaviour âœ…
    - import open ai âœ…
    - call the open ai function with the search term
    - dangerously allow error by openAi set it to allowed âœ…
    - be specific about passing the query, query , form one,âœ…
      - query : act as a movie recommendation system and recommend some movies to me for the specific query, query : {dynamic input} , give me comma separated values as result in an array format contains 5 movie titles only, such as for query : indian old is gold movies, result : [gadar, sholey, don, golmaal, kabhi khushi kabhi gam]
      - Flow âœ…
        - after query like this, openAI will give result for 5 movies âœ…
        - search these 5 titles using TMDB seach movie api's âœ…
        - movie details will comes to us, then simply display those movies to user in UI âœ…
  - in case open AI gpt does not give result, handle that error gracefully âœ…
  - create array of movies from resultâœ…
  - now for all 5 movie names, we must call TMDB's search api, 5 movies - 5 api calls, create a utility function for the same âœ…
  - using map call that utility funciton -> func will be called 5 times -> won't give result -> async code, will return unresolved promises array âœ…
  - use promise.all to resolve promise and get the results âœ…
  - multiple movies will come as result âœ…
  - store those movies in redux store, in gpt slice itself âœ…
  - search results which are coming from open ai, after entering query store those also in redux store âœ…
  - movies extraction logic can be extracted into hooks âœ…

- Chat GPT Search result UI âœ…

  - GetMoviesSuggestions âœ…
    - in this compoennt, get movies name, and movies from redux store âœ…
    - use the same already used > movieList component for display movie cards âœ…
    - map over movie names and multiple movieList components with movies âœ…

- Securing API Keys âœ…

  - create .env file in root âœ…
  - append REACT_APP_API_KEY_NAME to keys to append it, no strings directly content âœ…
  - when need to use it use process.env.REACT_APP_API_KEY_NAME âœ…
  - add .env file to gitIgnore âœ…
  - store all firebase config also in env âœ…

- Memoization âœ…

  - for avoiding unnecessry api calls we can memoize, hooks fetching ones âœ…
  - if redux store has data for example moveis, then don't make api call for fetching moveis âœ…
  - do the same for all fetching logics âœ…
  - no need to use useMemo âœ…
  - simply check if store has it, don't call fetch function in useEffect âœ…

- Make the site mobile responsive âœ…

  - using tailwind âœ…
    - default sm:(tablet min-width:640px) md:(desktop min-width:768px) âœ…
    - mobile first approch, âœ…
      - sm : for tablets âœ…
      - md/lg : for desktop âœ…
      - by default : whatever styling is there would be for mobile âœ…

- Bug fixes + making the project stable as much as possible âœ…

  - plan once the above points are done ...
  - whever calling tmdb api(s) store hardcode that data, as TMDB is not working âœ…
  - work on the stability of site, without using TMDB make everything working, use hardcoded data whever possible âœ…
  - hero movie text if more then 2 lines, append it with ... âœ…
  - when not connected to vpn taking a lot of time if takes more then 3 seconds display harcoded data âœ…
  - find an alternative for suggested video tmdb issue âŒ
    - api issue, gave alter and warning for the same âœ…
  - fix reload issue on firebase live âœ…

- additional features

  - on click on movie cards take them to movie trailer on youtube âœ…

    - for bgVideo âœ…
    - for other movies cards âœ…
      - plan âœ…
        - give 2 options (btns) âœ…
          - view details âœ…
            - whatever we have in redux store, title, overview etc etc, make use of it and make a opo up card âœ…
          - watch trailer âœ…
            - query youtube with title and sent them to trailer search page, on youtube
        - make all things mobile responsive âœ…

  - add footer in site âœ…
  - bug fix, after clicking on search only, if can't fetch gptsearch then only show then JIO network issue âœ…
  - show hide password option on login form
  - fix login page styling âœ…
  - validation on chatGPT search bar âœ…
  - add buttons for scroll, impplement scroll feature âœ…
  - add google auth also âœ…
  - make google sign in looking good + make feature mobile responsive âœ…

- Self-branding âŒ
  -- write a linkedin Post Appreaciating sir Akshay Saini, your own efforts, Additional features, Job fetching post

# Features

- NetFlix Home Page

  - Login / SignUp Form
  - Once logged in redirects to Broswe page

- Browse Page (After Authentication)

  - Header
  - Hero Movie
    - Trailer in backgorund
    - Title & descirption
    - Movie suggestions
      - Movie list carousel \* n
        - Movie \* n

- Netflix GPT
  - Search bar
  - Movie suggestion via AI on search

